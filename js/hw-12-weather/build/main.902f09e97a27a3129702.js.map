{"version":3,"sources":["webpack:///./js/services/weather.js","webpack:///./js/getGeoPosition.js","webpack:///./js/fetchWeather.js","webpack:///./js/templates/item.hbs"],"names":["weatherId","document","querySelector","weather","fetchWeather","query","fetch","then","response","json","data","items","insertAdjacentHTML","insertItems","itemTemplate","getGeoPosition","options","maximumAge","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","location","coor","coords","latitude","toString","longitude","Weather","error","PNotify","title","text","searchForm","addEventListener","e","preventDefault","input","currentTarget","elements","city","value","Handlebars","__webpack_require__","module","exports","template","compiler","main","container","depth0","helpers","partials","stack1","alias1","lambda","alias2","escapeExpression","current","condition","icon","name","temp_c","humidity","wind_kph","useData"],"mappings":"kNAKMA,EAAYC,SAASC,cAAc,YAE1BC,EAAA,CACbC,aADa,SACAC,GAGX,OAAOC,MART,6EAMoB,MAASD,EAAT,aAGfE,KAAK,SAAAC,GACJ,OAAOA,EAASC,SAEjBF,KAAK,SAAAG,GACJ,IAQiBC,GAHzB,SAAqBA,GACnBX,EAAUY,mBAAmB,YAAaD,GALpCE,EAOiBF,EARcD,EAS9BI,IAAaH,SCpBPI,IAiBPC,KAAU,CACdC,WAAY,KAEP,IAAIC,QAAQ,SAACC,EAASC,GAC3BC,UAAUC,YAAYC,mBAAmBJ,EAASC,EAAQJ,MApB3DT,KAAK,SAAAiB,GACJ,IAAIC,EACFD,EAASE,OAAOC,SAASC,WACzB,IACAJ,EAASE,OAAOG,UAAUD,WAE5BE,EAAQ1B,aAAaqB,KAPV,MASN,SAAAM,GACLC,IAAQD,MAAM,CACZE,MAAO,SACPC,KAAM,yECbC,CACXC,WAAYlC,SAASC,cAAc,kBAGhCiC,WAAWC,iBAAiB,SAEjC,SAA0BC,GACxBA,EAAEC,iBAEF,IAAMC,EAAQF,EAAEG,cAAcC,SAASC,KAAKC,MAC5Cb,EAAQ1B,aAAamC,qCCdvB,IAAAK,EAAiBC,EAAQ,QAEzBC,EAAAC,SAAAH,EAAA,SAAAA,GAAAI,SAAA,CAAiEC,SAAA,eAAAC,KAAA,SAAAC,EAAAC,EAAAC,EAAAC,EAAA5C,GACjE,IAAA6C,EAAAC,EAAAL,EAAAM,OAAAC,EAAAP,EAAAQ,iBAEA,4DACAD,EAAAF,EAAA,OAAAD,EAAA,OAAAA,EAAA,MAAAH,IAAAQ,QAAAR,GAAAG,EAAAM,UAAAN,KAAAO,KAAAP,EAAAH,IACA,UACAM,EAAAF,EAAA,OAAAD,EAAA,OAAAA,EAAA,MAAAH,IAAAQ,QAAAR,GAAAG,EAAAM,UAAAN,KAAArB,KAAAqB,EAAAH,IACA,wDACAM,EAAAF,EAAA,OAAAD,EAAA,MAAAH,IAAA5B,SAAA4B,GAAAG,EAAAQ,KAAAR,EAAAH,IACA,0DACAM,EAAAF,EAAA,OAAAD,EAAA,MAAAH,IAAAQ,QAAAR,GAAAG,EAAAS,OAAAT,EAAAH,IACA,kEACAM,EAAAF,EAAA,OAAAD,EAAA,MAAAH,IAAAQ,QAAAR,GAAAG,EAAAU,SAAAV,EAAAH,IACA,mDACAM,EAAAF,EAAA,OAAAD,EAAA,MAAAH,IAAAQ,QAAAR,GAAAG,EAAAW,SAAAX,EAAAH,IACA,kEACAM,EAAAF,EAAA,OAAAD,EAAA,OAAAA,EAAA,MAAAH,IAAAQ,QAAAR,GAAAG,EAAAM,UAAAN,KAAArB,KAAAqB,EAAAH,IACA,eACCe,SAAA","file":"main.902f09e97a27a3129702.js","sourcesContent":["import itemTemplate from '../templates/item.hbs';\r\n\r\nconst baseUrl =\r\n  'https://api.apixu.com/v1/current.json?key=31a2648ccc4341338bd153158191307';\r\n\r\nconst weatherId = document.querySelector('#weather');\r\n\r\nexport default {\r\n  fetchWeather(query) {\r\n    const requestParam = `&q=${query}&lang=uk`;\r\n\r\n    return fetch(baseUrl + requestParam)\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        const markup = buildItemMarkup(data);\r\n        insertItems(markup);\r\n      });\r\n  },\r\n};\r\nfunction insertItems(items) {\r\n  weatherId.insertAdjacentHTML('beforeend', items);\r\n}\r\nfunction buildItemMarkup(items) {\r\n  return itemTemplate(items);\r\n}\r\n","'use strict';\r\nimport PNotify from 'PNotify/dist/es/PNotify.js';\r\nimport 'PNotify/dist/PNotifyBrightTheme.css';\r\nimport Weather from './services/weather';\r\n\r\nexport default getGeoPosition()\r\n  .then(location => {\r\n    let coor =\r\n      location.coords.latitude.toString() +\r\n      ',' +\r\n      location.coords.longitude.toString();\r\n\r\n    Weather.fetchWeather(coor);\r\n  })\r\n  .catch(error => {\r\n    PNotify.error({\r\n      title: 'Oh No!',\r\n      text: 'Нет прав доступа к геопозиции, используйте поиск по имени города.',\r\n    });\r\n  });\r\n\r\nfunction getGeoPosition() {\r\n  const options = {\r\n    maximumAge: 30000,\r\n  };\r\n  return new Promise((resolve, reject) => {\r\n    navigator.geolocation.getCurrentPosition(resolve, reject, options);\r\n  });\r\n}\r\n","'use strickt';\r\n\r\nimport Weather from './services/weather';\r\n\r\nconst refs = {\r\n  searchForm: document.querySelector('#search-form'),\r\n};\r\n\r\nrefs.searchForm.addEventListener('submit', searchFormHandle);\r\n\r\nfunction searchFormHandle(e) {\r\n  e.preventDefault();\r\n\r\n  const input = e.currentTarget.elements.city.value;\r\n  Weather.fetchWeather(input);\r\n}\r\n","var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<h2>Current weather</h2>\\r\\n<img class=\\\"icon\\\" src=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.condition : stack1)) != null ? stack1.icon : stack1), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.condition : stack1)) != null ? stack1.text : stack1), depth0))\n    + \"\\\" />\\r\\n\\r\\n<p>Location: <span data-field=\\\"location\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.location : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</span></p>\\r\\n<p>Temperature: <span data-field=\\\"temp\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.temp_c : stack1), depth0))\n    + \"&#8451;</span></p>\\r\\n<p>Humidity: <span data-field=\\\"humidity\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.humidity : stack1), depth0))\n    + \"</span></p>\\r\\n<p>Wind: <span data-field=\\\"wind\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.wind_kph : stack1), depth0))\n    + \"kph</span></p>\\r\\n<p>Conditions: <span data-field=\\\"conditions\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.condition : stack1)) != null ? stack1.text : stack1), depth0))\n    + \"</span></p>\";\n},\"useData\":true});"],"sourceRoot":""}